---
---
<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>IDialogWaterfallStep | Bot Builder SDK Calling Reference Library | Bot Framework</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.0.min.js"></script>
	<link rel="stylesheet" href="../assets/css/main.css">
	<script src="../assets/js/modernizr.js"></script>
	<link rel="stylesheet" href="/css/documentation.css" />
	<script src="/css/documents.js"></script>
	<!-- START OF SmartSource Data Collector TAG v10.4.23 -->
	<!-- Copyright (c) 2016 Webtrends Inc.  All rights reserved. -->
	<script type="text/javascript" src="/js/webtrends.load.js"></script>
	<!--
    appInsights
  -->
	<script type="text/javascript">
    var appInsights=window.appInsights||function(config){
      function r(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s=u.createElement(o),i,f;for(s.src=config.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js",u.getElementsByTagName(o)[0].parentNode.appendChild(s),t.cookie=u.cookie,t.queue=[],i=["Event","Exception","Metric","PageView","Trace"];i.length;)r("track"+i.pop());return r("setAuthenticatedUserContext"),r("clearAuthenticatedUserContext"),config.disableExceptionTracking||(i="onerror",r("_"+i),f=e[i],e[i]=function(config,r,u,e,o){var s=f&&f(config,r,u,e,o);return s!==!0&&t["_"+i](config,r,u,e,o),s}),t
      }({
          instrumentationKey:"ecf7f29d-de8c-4169-a492-bdce0a32c300"
      });
        
      window.appInsights=appInsights;
      appInsights.trackPageView();
  </script>  
</head>
<body>
<div id="app-body">
	<div class="fullWidth">
		<header>
			<div class="outline">
				<div class="header">
					<a class="logo" href="//www.microsoft.com">
						<svg class="svgicon svgicon-microsoft-color-logo">
							<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/symbol-defs.svg#svgicon-microsoft-color-logo"></use>
						</svg>
					</a>
					<div class="loading-animation"></div>
					<span class="environment"></span>
					<div>
					</div>
				</div>
			</div>
		</header>
		<div class="brand-primary">
			<div class="jumbo">
				<div class="jumbo-header">
					<a href="https://www.botframework.com/">Bot Framework</a>
				</div>
				<ul class="header-nav"><li>
						<a href="https://dev.botframework.com/#/bots">My bots</a>
						</li><li>
						<a href="https://dev.botframework.com/#/bots/new">Register a bot</a>
						</li><li class="active">
						<a href="/">Documentation</a>
						</li><li>
						<a href="https://bots.botframework.com/">Bot Directory</a>
						</li><li>
						<a href="https://blog.botframework.com/">Blog</a>
				</li></ul>
				<!--
		<div class="search-outter">
			<div class="open-search"></div>
			<div class="searchBox">
				<form method="GET" action="https://dev.botframework.com/#/search">
					<input type="text" class="searchText" name="s" placeholder="Search Microsoft bot directoryâ€¦"/>
						<button type="submit" class="icon-search">
							<span>Search</span>
						</button>
				</form>
			</div>
		</div>
		-->
			</div>
		</div>
		<div class="outline">
			<article class="post">
				<div id="side-nav">
					{% include leftnav.html %}
				</div>
				<div id="doc-content">
					<header>
						<div class="tsd-page-toolbar">
							<div class="container">
								<div class="table-wrap">
									<div class="table-cell" id="tsd-search" data-index="../assets/js/search.js" data-base="..">
										<div class="field">
											<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
											<input id="tsd-search-field" type="text" />
										</div>
										<ul class="results">
											<li class="state loading">Preparing search index...</li>
											<li class="state failure">The search index is not available</li>
										</ul>
										<a href="../index.html" class="title">Bot Builder SDK Calling Reference Library</a>
									</div>
									<div class="table-cell" id="tsd-widgets">
										<div id="tsd-filter">
											<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
											<div class="tsd-filter-group">
												<div class="tsd-select" id="tsd-filter-visibility">
													<span class="tsd-select-label">All</span>
													<ul class="tsd-select-list">
														<li data-value="public">Public</li>
														<li data-value="protected">Public/Protected</li>
														<li data-value="private" class="selected">All</li>
													</ul>
												</div>
												<input type="checkbox" id="tsd-filter-inherited" checked />
												<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
												<input type="checkbox" id="tsd-filter-externals" checked />
												<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
												<input type="checkbox" id="tsd-filter-only-exported" />
												<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
											</div>
										</div>
										<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
									</div>
								</div>
							</div>
						</div>
						<div class="tsd-page-title">
							<div class="container">
								<ul class="tsd-breadcrumb">
									<li>
										<a href="../index.html">Globals</a>
									</li>
									<li>
										<a href="../modules/_botbuilder_d_.html">&quot;botbuilder.d&quot;</a>
									</li>
									<li>
										<a href="_botbuilder_d_.idialogwaterfallstep.html">IDialogWaterfallStep</a>
									</li>
								</ul>
								<h1>Interface IDialogWaterfallStep</h1>
							</div>
						</div>
						</header>				<div class="container container-main">
						<div class="row">
							<div class="col-8 col-content">
								<section class="tsd-panel tsd-comment">
									<div class="tsd-comment tsd-typography">
										<div class="lead">
											<p>Signature for functions passed as steps to <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.dialogaction.html#waterfall">DialogAction.waterfall()</a>.</p>
										</div>
										<p>Waterfalls let you prompt a user for information using a sequence of questions. Each step of the
											waterfall can either execute one of the built-in <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.prompts.html">Prompts</a>,
											start a new dialog by calling <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.session.html#begindialog">session.beginDialog()</a>,
										advance to the next step of the waterfall manually using <code>skip()</code>, or terminate the waterfall.</p>
										<p>When either a dialog or built-in prompt is called from a waterfall step, the results from that
											dialog or prompt will be passed via the <code>results</code> parameter to the next step of the waterfall.
											Users can say things like &quot;nevermind&quot; to cancel the built-in prompts so you should guard against
											that by at least checking for <a href="en-us/node/builder/calling-reference/interfaces/_botbuilder_d_.idialogresult.html#response">results.response</a>
											before proceeding. A more detailed explination of why the waterfall is being continued can be
											determined by looking at the <a href="en-us/node/builder/calling-reference/enums/_botbuilder_d_.resumereason.html">code</a>
										returned for <a href="en-us/node/builder/calling-reference/interfaces/_botbuilder_d_.idialogresult.html#resumed">results.resumed</a>.</p>
										<p>You can manually advance to the next step of the waterfall using the <code>skip()</code> function passed
											in. Calling <code>skip({ response: &quot;some text&quot; })</code> with an <a href="en-us/node/builder/calling-reference/interfaces/_botbuilder_d_.idialogresult.html">IDialogResult</a>
											lets you more accurately mimic the results from a built-in prompt and can simplify your overall
										waterfall logic.</p>
										<p>You can terminate a waterfall early by either falling through every step of the waterfall using
										calls to <code>skip()</code> or simply not starting another prompt or dialog.</p>
										<p><strong>note:</strong> Waterfalls have a hidden last step which will automatically end the current dialog if
											if you call a prompt or dialog from the last step. This is useful where you have a deep stack of
											dialogs and want a call to <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.session.html#enddialog">session.endDialog()</a>
											from the last child on the stack to end the entire stack. The close of the last child will trigger
											all of its parents to move to this hidden step which will cascade the close all the way up the stack.
											This is typically a desired behaviour but if you want to avoid it or stop it somewhere in the
											middle you&#39;ll need to add a step to the end of your waterfall that either does nothing or calls
											something liek <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.session.html#send">session.send()</a>
										which isn&#39;t going to advance the waterfall forward.</p>
										<dl class="tsd-comment-tags">
											<dt>example</dt>
											<dd><pre><code>
var bot = new builder.BotConnectorBot();
bot.add('/', [
    function (session) {
        builder.Prompts.text(session, "Hi! What's your name?");
    },
    function (session, results) {
        if (results && results.response) {
            // User answered question.
            session.send("Hello %s.", results.response);
        } else {
            // User said nevermind.
            session.send("OK. Goodbye.");
        }
    }
]);
</code></pre>
											</dd>
										</dl>
									</div>
								</section>
								<section class="tsd-panel tsd-hierarchy">
									<h3>Hierarchy</h3>
									<ul class="tsd-hierarchy">
										<li>
											<span class="target">IDialogWaterfallStep</span>
										</li>
									</ul>
								</section>
								<section class="tsd-panel">
									<h3 class="tsd-before-signature">Callable</h3>
									<ul class="tsd-signatures tsd-kind-interface tsd-parent-kind-external-module tsd-is-not-exported">
										<li class="tsd-signature tsd-kind-icon">__call<span class="tsd-signature-symbol">(</span>session<span class="tsd-signature-symbol">: </span><a href="../classes/_botbuilder_d_.callsession.html" class="tsd-signature-type">CallSession</a>, result<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol"> | </span><a href="_botbuilder_d_.idialogresult.html" class="tsd-signature-type">IDialogResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span>, skip<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">function</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li>
									</ul>
									<ul class="tsd-descriptions">
										<li class="tsd-description">
											<aside class="tsd-sources">
												<ul>
													<li>Defined in <a href="https://github.com/Microsoft/BotBuilder/blob/c533014/Node/calling/src/botbuilder.d.ts#L966">botbuilder.d.ts:966</a></li>
												</ul>
											</aside>
											<div class="tsd-comment tsd-typography">
												<div class="lead">
													<p>Signature for functions passed as steps to <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.dialogaction.html#waterfall">DialogAction.waterfall()</a>.</p>
												</div>
												<p>Waterfalls let you prompt a user for information using a sequence of questions. Each step of the
													waterfall can either execute one of the built-in <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.prompts.html">Prompts</a>,
													start a new dialog by calling <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.session.html#begindialog">session.beginDialog()</a>,
												advance to the next step of the waterfall manually using <code>skip()</code>, or terminate the waterfall.</p>
												<p>When either a dialog or built-in prompt is called from a waterfall step, the results from that
													dialog or prompt will be passed via the <code>results</code> parameter to the next step of the waterfall.
													Users can say things like &quot;nevermind&quot; to cancel the built-in prompts so you should guard against
													that by at least checking for <a href="en-us/node/builder/calling-reference/interfaces/_botbuilder_d_.idialogresult.html#response">results.response</a>
													before proceeding. A more detailed explination of why the waterfall is being continued can be
													determined by looking at the <a href="en-us/node/builder/calling-reference/enums/_botbuilder_d_.resumereason.html">code</a>
												returned for <a href="en-us/node/builder/calling-reference/interfaces/_botbuilder_d_.idialogresult.html#resumed">results.resumed</a>.</p>
												<p>You can manually advance to the next step of the waterfall using the <code>skip()</code> function passed
													in. Calling <code>skip({ response: &quot;some text&quot; })</code> with an <a href="en-us/node/builder/calling-reference/interfaces/_botbuilder_d_.idialogresult.html">IDialogResult</a>
													lets you more accurately mimic the results from a built-in prompt and can simplify your overall
												waterfall logic.</p>
												<p>You can terminate a waterfall early by either falling through every step of the waterfall using
												calls to <code>skip()</code> or simply not starting another prompt or dialog.</p>
												<p><strong>note:</strong> Waterfalls have a hidden last step which will automatically end the current dialog if
													if you call a prompt or dialog from the last step. This is useful where you have a deep stack of
													dialogs and want a call to <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.session.html#enddialog">session.endDialog()</a>
													from the last child on the stack to end the entire stack. The close of the last child will trigger
													all of its parents to move to this hidden step which will cascade the close all the way up the stack.
													This is typically a desired behaviour but if you want to avoid it or stop it somewhere in the
													middle you&#39;ll need to add a step to the end of your waterfall that either does nothing or calls
													something liek <a href="en-us/node/builder/calling-reference/classes/_botbuilder_d_.session.html#send">session.send()</a>
												which isn&#39;t going to advance the waterfall forward.</p>
											</div>
											<h4 class="tsd-parameters-title">Parameters</h4>
											<ul class="tsd-parameters">
												<li>
													<h5>session: <a href="../classes/_botbuilder_d_.callsession.html" class="tsd-signature-type">CallSession</a></h5>
													<div class="tsd-comment tsd-typography">
														<p>Session object for the current conversation.</p>
													</div>
												</li>
												<li>
													<h5><span class="tsd-flag ts-flagOptional">Optional</span> result: <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol"> | </span><a href="_botbuilder_d_.idialogresult.html" class="tsd-signature-type">IDialogResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5>
													<div class="tsd-comment tsd-typography">
														<ul>
															<li><strong>result:</strong> <em>{any}</em> - For the first step of the waterfall this will be <code>null</code> or the value of any arguments passed to the handler.</li>
															<li><strong>result:</strong> <em>{IDialogResult}</em> - For subsequent waterfall steps this will be the result of the prompt or dialog called in the previous step.</li>
														</ul>
													</div>
												</li>
												<li>
													<h5><span class="tsd-flag ts-flagOptional">Optional</span> skip: <span class="tsd-signature-type">function</span></h5>
													<div class="tsd-comment tsd-typography">
														<p>Fuction used to manually skip to the next step of the waterfall.</p>
													</div>
													<ul class="tsd-parameters">
														<li class="tsd-parameter-siganture">
															<ul class="tsd-signatures tsd-kind-type-literal tsd-is-not-exported">
																<li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>results<span class="tsd-signature-symbol">?: </span><a href="_botbuilder_d_.idialogresult.html" class="tsd-signature-type">IDialogResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li>
															</ul>
															<ul class="tsd-descriptions">
																<li class="tsd-description">
																	<h4 class="tsd-parameters-title">Parameters</h4>
																	<ul class="tsd-parameters">
																		<li>
																			<h5><span class="tsd-flag ts-flagOptional">Optional</span> results: <a href="_botbuilder_d_.idialogresult.html" class="tsd-signature-type">IDialogResult</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5>
																			<div class="tsd-comment tsd-typography">
																				<p>(Optional) results to pass to the next waterfall step. This lets you more accurately mimic the results returned from a prompt or dialog.</p>
																			</div>
																		</li>
																	</ul>
																	<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4>
																</li>
															</ul>
														</li>
													</ul>
												</li>
											</ul>
											<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4>
										</li>
									</ul>
								</section>
							</div>
							<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
								<nav class="tsd-navigation primary">
									<ul>
										<li class="globals  ">
											<a href="../index.html"><em>Globals</em></a>
										</li>
										<li class="current tsd-kind-external-module">
											<a href="../modules/_botbuilder_d_.html">"botbuilder.d"</a>
										</li>
									</ul>
								</nav>
								<nav class="tsd-navigation secondary menu-sticky">
									<ul class="before-current">
									</ul>
									<ul class="current">
										<li class="current tsd-kind-interface tsd-parent-kind-external-module tsd-is-not-exported">
											<a href="_botbuilder_d_.idialogwaterfallstep.html" class="tsd-kind-icon">IDialog<wbr>Waterfall<wbr>Step</a>
										</li>
									</ul>
									<ul class="after-current">
									</ul>
								</nav>
							</div>
						</div>
					</div>
					<footer>
						<div class="container">
							<h2>Legend</h2>
							<div class="tsd-legend-group">
								<ul class="tsd-legend">
									<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
									<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
									<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
									<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
									<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
									<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
									<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
									<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
									<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
									<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
									<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
									<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
									<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
									<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
									<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
									<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
									<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
									<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
									<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
									<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
									<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
									<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
									<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
									<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
									<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
									<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
									<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
									<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
								</ul>
								<ul class="tsd-legend">
									<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
									<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
								</ul>
							</div>
						</div>
					</footer>
				</div>
			</article>
		</div>
		<div class="outline footer">
			<ul>
				<li><a href="//aka.ms/bf-contactus">Contact us</a></li>
				<li><a href="//aka.ms/bf-privacy">Privacy & cookies</a></li>
				<li><a href="//aka.ms/bf-terms">Terms of use</a></li>
				<li><a href="//aka.ms/bf-conduct">Code of conduct</a></li>
				<li>&copy; 2016 Microsoft</li>
			</ul>
		</div>
		<div class="overlay"></div>
		<script src="../assets/js/main.js"></script>
		<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
	</div>
</div>
<script src="//bot-framework.azureedge.net/libs/svgxuse.js"></script>
<script src="//static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100954936); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100954936ns.gif" /></p></noscript>
</body>
</html>